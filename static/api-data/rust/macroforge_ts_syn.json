{
  "name": "macroforge_ts_syn",
  "kind": "rust_crate",
  "version": "0.1.56",
  "description": "TypeScript syntax types for compile-time macro code generation",
  "overview": "# macroforge_ts_syn\n\nTypeScript syntax types for compile-time macro code generation.\n\nThis crate provides a [`syn`](https://docs.rs/syn)-like API for parsing and manipulating\nTypeScript code, enabling macro authors to work with TypeScript AST in a familiar way.\nIt is the core infrastructure crate for the Macroforge TypeScript macro system.\n\n## Overview\n\nThe crate is organized into several modules:\n\n- [`abi`] - Application Binary Interface types for stable macro communication\n- [`derive`] - Derive input types that mirror Rust's `syn::DeriveInput`\n- [`errors`] - Error types and diagnostics for macro expansion\n- [`lower`] - AST lowering from SWC types to IR representations\n- [`parse`] - TypeScript parsing utilities wrapping SWC\n- [`quote_helpers`] - Macros for ergonomic code generation\n- [`stream`] - Parsing stream abstraction similar to `syn::parse::ParseBuffer`\n\n## Architecture\n\nThe crate follows a layered architecture:\n\n```text\n┌─────────────────────────────────────────────────────────────┐\n│                    User-Facing API                          │\n│  (DeriveInput, TsStream, parse_ts_macro_input!)             │\n├─────────────────────────────────────────────────────────────┤\n│                    Lowering Layer                           │\n│  (lower_classes, lower_interfaces, lower_enums, ...)        │\n├─────────────────────────────────────────────────────────────┤\n│                    IR Types (ABI Stable)                    │\n│  (ClassIR, InterfaceIR, EnumIR, TypeAliasIR, ...)           │\n├─────────────────────────────────────────────────────────────┤\n│                    SWC Parser                               │\n│  (swc_core for TypeScript/JavaScript parsing)               │\n└─────────────────────────────────────────────────────────────┘\n```\n\n## Usage Example\n\nHere's how to use this crate in a derive macro:\n\n```rust,ignore\nuse macroforge_ts_syn::{parse_ts_macro_input, DeriveInput, MacroResult, Patch, Data, MacroContextIR};\n\n// This function signature shows a typical derive macro entry point\npub fn my_derive_macro(ctx: MacroContextIR) -> MacroResult {\n    // Parse the input using the syn-like API\n    let input = parse_ts_macro_input!(ctx);\n\n    // Access type information\n    println!(\"Processing type: {}\", input.name());\n\n    // Match on the type kind\n    match &input.data {\n        Data::Class(class) => {\n            for field in class.fields() {\n                println!(\"Field: {}\", field.name);\n            }\n        }\n        Data::Interface(_iface) => {\n            // Handle interface...\n        }\n        Data::Enum(_enum_) => {\n            // Handle enum...\n        }\n        Data::TypeAlias(_alias) => {\n            // Handle type alias...\n        }\n    }\n\n    // Generate code and return patches\n    MacroResult::ok()\n}\n```\n\n## Helper Macros\n\nThis crate provides several helper macros for working with SWC AST nodes:\n\n- [`ident!`] - Create an identifier with optional formatting\n- [`private_ident!`] - Create a private (marked) identifier\n- [`stmt_block!`] - Create a block statement from statements\n- [`fn_expr!`] - Create an anonymous function expression\n- [`member_expr!`] - Create a member access expression (obj.prop)\n- [`assign_stmt!`] - Create an assignment statement\n- [`fn_assign!`] - Create a function assignment (obj.prop = function() {...})\n- [`proto_method!`] - Create a prototype method assignment\n\n## Feature Flags\n\n- `swc` - Enables SWC integration and the helper macros (enabled by default)\n\n## Re-exports\n\nFor convenience, the crate re-exports commonly used SWC types when the `swc` feature\nis enabled:\n\n- [`swc_core`] - The full SWC core crate\n- [`swc_common`] - Common SWC types (Span, SourceMap, etc.)\n- [`swc_ecma_ast`] - ECMAScript/TypeScript AST types\n- `quote!` - SWC's quote macro for AST generation",
  "items": [
    {
      "name": "StmtVec",
      "kind": "struct",
      "signature": "pub struct StmtVec",
      "description": "A wrapper type for passing a `Vec<Stmt>` to be used inline in function bodies.\n\nThis is a marker type that `ts_quote!` can detect and handle specially,\nallowing you to interpolate multiple statements where the macro expects them.",
      "examples": [
        "use macroforge_ts_syn::{StmtVec, stmt_vec};\nuse macroforge_ts_syn::swc_ecma_ast::Stmt;\n\n// Create directly with constructor\nlet statements1: Vec<Stmt> = vec![];\nlet _wrapped1 = StmtVec(statements1);\n\n// Or using the macro\nlet statements2: Vec<Stmt> = vec![];\nlet _wrapped2 = stmt_vec!(statements2);"
      ]
    }
  ]
}